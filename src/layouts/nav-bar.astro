---
import Button from '@/components/button.astro';
import { Menu, X } from '@lucide/astro';

const navLinks = [
  {
    href: '#about',
    label: 'About',
  },
  {
    href: '#projects',
    label: 'Projects',
  },
  {
    href: '#blog',
    label: 'Blog',
  },
  {
    href: '#contact',
    label: 'Contact',
  },
];
---


  <nav class="container mx-auto px-6 flex items-center justify-between">
    <a href="#" class="text-xl font-bold tracking-tight text-primary"
      >Ely Lucas</a
    >
    <!-- Desktop -->
    <div class="hidden md:flex items-center gapy-1">
      <div class="glass rounded-full px-2 py-1 flex items-center gap-1">
        {
          navLinks.map((link) => (
            <a
              class="px-4 py-2 text-sm text-muted-foreground hover:text-foreground hover:bg-surface"
              href={link.href}
            >
              {link.label}
            </a>
          ))
        }
      </div>
    </div>

    <!-- cta button -->
    <div class="hidden md:block"><Button size="lg">Contact me</Button></div>

    <!-- mobile menu button -->
    <button
      aria-expanded="false"
      class="group block md:hidden p-2 text-foreground hover:cursor-pointer"
      id="menu-button"
    >
      <Menu class="group-aria-expanded:hidden" />
      <X class="hidden group-aria-expanded:block" />
    </button>
  </nav>

  <!-- mobile menu -->
  <div
    role="menu"
    aria-hidden="true"
    class="hidden sm:hidden glass-strong"
    id="mobile-menu"
  >
    <div class="container mx-auto px-6 py-6 flex flex-col gap-4">
      {
        navLinks.map((link) => (
          <a
            class="text-lg text-muted-foreground hover:text-foreground py-2"
            href={link.href}
          >
            {link.label}
          </a>
        ))
      }
      <Button size="md">Contact me</Button>
    </div>
  </div>

<script>
  const button = document.getElementById('menu-button');
  button?.addEventListener('click', () => {
    const menu = document.getElementById('mobile-menu');
    const isExpanded = button.getAttribute('aria-expanded') === 'true';
    button.setAttribute('aria-expanded', isExpanded ? 'false' : 'true');
    menu?.setAttribute('aria-hidden', isExpanded ? 'true' : 'false');
    if (isExpanded) {
      menu?.classList.add('animate-fade-out');
      menu?.classList.remove('animate-fade-in');
    } else {
      menu?.classList.remove('animate-fade-out');
      menu?.classList.remove('hidden');
      menu?.classList.add('animate-fade-in');
    }
  });
</script>
